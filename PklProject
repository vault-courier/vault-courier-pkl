//===----------------------------------------------------------------------===//
//  Copyright (c) 2025 Javier Cuesta
//
//  Licensed under the Apache License, Version 2.0 (the "License");
//  you may not use this file except in compliance with the License.
//  You may obtain a copy of the License at
//
//  http://www.apache.org/licenses/LICENSE-2.0
//
//  Unless required by applicable law or agreed to in writing, software
//  distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//  See the License for the specific language governing permissions and
//  limitations under the License.
//===----------------------------------------------------------------------===//

amends "pkl:Project"

package {
  name = "vault-courier-pkl"
  description = "OpenAPI modules and templates for configuring HashiCorp Vault and OpenBao â€” tools designed to securely store, audit, and manage access to sensitive data like API tokens, database credentials, and certificates."
  authors { "Javier Cuesta <javier@beamsplitter.co>" }
  exclude {
    "Examples/**"
    "Tests/**"
  }
  license = "Apache-2.0"
  baseUri = "package://github.com/vault-courier/\(name)" 
  version = "0.0.1"
  packageZipUrl = "https://github.com/vault-courier/\(name)/\(name)@\(version).zip"
  issueTracker = "https://github.com/vault-courier/\(name)/issues"
  sourceCode = "https://github.com/vault-courier/tree/\(name)@\(version)/packages/\(name)"
  sourceCodeUrlScheme = "https://github.com/vault-courier/blob/\(name)@\(version)/packages/\(name)%{path}#L%{line}-%{endLine}"
}

dependencies {
  ["openapi"] { 
    uri = "package://pkg.pkl-lang.org/pkl-pantry/org.openapis.v3@2.1.2" 
  }
  ["net"] {
    uri = "package://pkg.pkl-lang.org/pkl-pantry/pkl.experimental.net@1.2.1"
  }
  ["uri"] {
    uri = "package://pkg.pkl-lang.org/pkl-pantry/pkl.experimental.uri@1.0.3"
  }
}
